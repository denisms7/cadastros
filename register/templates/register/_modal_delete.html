{% load custom_humanize %}

<div class="modal fade" id="delete-{{ item.pk }}" tabindex="-1"
     aria-labelledby="deleteLabel-{{ item.pk }}" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content border-0 shadow-sm">

            <!-- Header -->
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title m-0" id="deleteLabel-{{ item.pk }}">
                    ğŸ—‘ï¸ Confirmar ExclusÃ£o
                </h5>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <p class="lead">
                    Deseja realmente <span class="fw-bold text-danger">excluir</span> o seguinte registro?
                </p>

                {% if item.cnpj %}
                    <p class="text-secondary mb-2">
                        ğŸ“… <b>Data:</b> {{ item.created_at|date:"d/m/Y H:i" }}<br>
                        ğŸ¢ <b>CNPJ:</b> {{ item.cnpj|cnpj_format }}
                    </p>
                    <hr>
                    <p class="mb-0">
                        <b>RazÃ£o Social:</b><br>
                        {{ item.legal }}<br>
                        <b>Nome Fantasia:</b><br>
                        {{ item.fantasy }}
                    </p>

                {% elif item.cpf %}
                    <p class="text-secondary mb-2">
                        ğŸ“… <b>Data:</b> {{ item.created_at|date:"d/m/Y H:i" }}<br>
                        ğŸš¹ <b>CPF:</b> {{ item.cpf|cpf_format }}
                    </p>
                    <hr>
                    <p class="mb-0">
                        <b>Nome Completo:</b><br>
                        {{ item.name }} {{ item.last_name }}
                    </p>
                {% endif %}

                <p class="text-center text-muted mt-3 mb-0 small">
                    Esta aÃ§Ã£o nÃ£o poderÃ¡ ser desfeita.
                </p>
            </div>

            <!-- Footer -->
            <div class="modal-footer d-flex">
                {% if item.legal %}
                    <form method="post" action="{% url 'register:enterprise_delete' item.pk %}">
                {% elif item.name %}
                    <form method="post" action="{% url 'register:person_delete' item.pk %}">
                {% endif %}
                    {% csrf_token %}
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-danger">
                            Sim, Excluir
                        </button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            NÃ£o, Cancelar
                        </button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>
